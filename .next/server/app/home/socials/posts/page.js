(()=>{var e={};e.id=247,e.ids=[247],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},53140:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c});var r=t(70260),a=t(28203),o=t(25155),l=t.n(o),i=t(67292),n={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(s,n);let c=["",{children:["home",{children:["socials",{children:["posts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,15972)),"/Users/apple/Desktop/DEV/Product/GTA/academy-FE/src/app/home/socials/posts/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,82412)),"/Users/apple/Desktop/DEV/Product/GTA/academy-FE/src/app/home/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,71354)),"/Users/apple/Desktop/DEV/Product/GTA/academy-FE/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/apple/Desktop/DEV/Product/GTA/academy-FE/src/app/home/socials/posts/page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/home/socials/posts/page",pathname:"/home/socials/posts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4100:(e,s,t)=>{Promise.resolve().then(t.bind(t,59529))},11716:(e,s,t)=>{Promise.resolve().then(t.bind(t,16075))},10453:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(41680).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},16075:(e,s,t)=>{"use strict";t.d(s,{default:()=>u});var r=t(45512),a=t(58009),o=t(10453);let l=(0,t(41680).A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);var i=t(45103),n=t(96427),c=t(70979),d=t(26008);let p=[{id:"1",username:"john.dev",avatar:n.A,isFollowing:!1},{id:"2",username:"sarah.code",avatar:n.A,isFollowing:!1},{id:"3",username:"mike.tech",avatar:n.A,isFollowing:!1},{id:"4",username:"emma.js",avatar:n.A,isFollowing:!1}],u=()=>{let{getPosts:e}=(0,c.d)(),[s,t]=(0,a.useState)([]),[u,m]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{let s=await e();t(s)}catch(e){h("Failed to fetch posts"),console.log(e)}finally{m(!1)}})()},[e]),console.log(s);let f=e=>e&&""!==e.trim()?e:n.A;return u?(0,r.jsx)("div",{children:"Loading..."}):x?(0,r.jsx)("div",{className:"text-red-500",children:x}):0===s.length?(0,r.jsx)("div",{className:" mt-[10rem] ",children:"Nothing here"}):(0,r.jsx)("div",{className:"justify flex-1 space-y-4 pt-[5rem] lg:px-6 sm:ml-56",children:(0,r.jsxs)("div",{className:"max-w-[1500px] mx-auto flex gap-[3rem]",children:[(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("div",{className:"flex mx-auto flex-col md:px-[6rem]  xl:px-[10rem] ",children:s.map(e=>(0,r.jsxs)("div",{className:"p-4 space-y-3 border-b md:border-t   md:border-r md:border-l   ",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.default,{href:`/home/socials/posts/${e.authorId}`,className:"h-[3rem] w-[3rem] rounded-full overflow-hidden relative bg-gray-200",children:(0,r.jsx)(i.default,{src:f(e.profilePicture),alt:e.author||"user",fill:!0,className:"object-cover",sizes:"32px",priority:!0})}),(0,r.jsxs)("div",{className:"flex  flex-col",children:[(0,r.jsx)("span",{className:"font-semibold",children:e.fullName}),(0,r.jsxs)("span",{className:"text-sm hover:underline decoration-blue-600  underline-offset-4 cursor-pointer  hover:text-blue-600 ",children:["@",e.author]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2  pb-4",children:[(0,r.jsx)("p",{className:" text-xl w-[90%] ",children:e.content}),e.title&&(0,r.jsx)("span",{className:" text-blue-500  font-medium",children:`#${e.title}`}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(o.A,{className:"w-5 h-5"}),(0,r.jsxs)("span",{children:[e.likesCount," likes"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(l,{className:"w-5 h-5"}),(0,r.jsxs)("span",{children:[e.comments?.length||0," comments"]})]})]})]})]},e._id))})}),(0,r.jsxs)("div",{className:"hidden  lg:flex flex-col w-[350px] p-4 space-y-4 sticky top-20",children:[(0,r.jsx)("h3",{className:"text-gray-500 font-semibold",children:"Suggested for you"}),p.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden relative",children:(0,r.jsx)(i.default,{src:e.avatar,alt:e.username,fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"font-medium text-sm",children:e.username}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"Suggested for you"})]})]}),(0,r.jsx)("button",{className:"text-blue-500 text-sm font-semibold hover:text-blue-700",children:"Follow"})]},e.id))]})]})})}},70979:(e,s,t)=>{"use strict";t.d(s,{d:()=>i});var r=t(72803),a=t(25998),o=t(4795),l=t(69071);let i=(0,r.v)(e=>({posts:[],isFetchingPosts:!1,getPosts:async()=>{e({isFetchingPosts:!0});try{let s=a.A.get("token"),t=await o.A.get("/api/socials/post/get-posts",{headers:{Authorization:`Bearer ${s}`}}),r=t.data.posts||[];return e({posts:r,isFetchingPosts:!1}),l.X.toastS(t.data.message),r}catch(s){throw e({posts:[],isFetchingPosts:!1}),l.X.toastE(s.response?.data.message),s}},post:async()=>{},getPersonalPost:async()=>{e({isFetchingPosts:!0});try{let s=a.A.get("token"),t=await o.A.get("/api/socials/post/get-personal-posts",{headers:{Authorization:`Bearer ${s}`}}),r=t.data.posts||[];return e({posts:r,isFetchingPosts:!1}),l.X.toastS(t.data.message),r}catch(s){throw e({posts:[],isFetchingPosts:!1}),l.X.toastE(s.response?.data.message),s}}}))},15972:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var r=t(62740),a=t(59529);let o=()=>(0,r.jsx)("div",{children:(0,r.jsx)(a.default,{})})},59529:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});let r=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/apple/Desktop/DEV/Product/GTA/academy-FE/src/features/socials/components/Posts.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/apple/Desktop/DEV/Product/GTA/academy-FE/src/features/socials/components/Posts.tsx","default")}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[702,805,684,668,922,975,892,824,81],()=>t(53140));module.exports=r})();