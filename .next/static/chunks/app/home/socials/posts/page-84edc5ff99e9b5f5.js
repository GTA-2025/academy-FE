(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[247],{40204:(e,t,s)=>{Promise.resolve().then(s.bind(s,52576))},67401:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(12115);let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return t.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,t)=>{let{color:s="currentColor",size:a=24,strokeWidth:n=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:u,...m}=e;return(0,r.createElement)("svg",{ref:t,...i,width:a,height:a,stroke:s,strokeWidth:l?24*Number(n)/Number(a):n,className:o("lucide",c),...m},[...u.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(d)?d:[d]])}),l=(e,t)=>{let s=(0,r.forwardRef)((s,i)=>{let{className:l,...c}=s;return(0,r.createElement)(n,{ref:i,iconNode:t,className:o("lucide-".concat(a(e)),l),...c})});return s.displayName="".concat(e),s}},20591:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(67401).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},30227:(e,t,s)=>{"use strict";s.d(t,{X:()=>a});var r=s(14046);let a={toastE:e=>{r.oR.error(e,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",transition:r.Bounce})},toastS:e=>{r.oR.success(e,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",transition:r.Bounce})},toastW:e=>{r.oR.warning(e,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",transition:r.Bounce})},toastI:e=>{r.oR.info(e,{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!1,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored",transition:r.Bounce})}}},52576:(e,t,s)=>{"use strict";s.d(t,{default:()=>m});var r=s(95155),a=s(12115),o=s(20591);let i=(0,s(67401).A)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);var n=s(5565),l=s(16770),c=s(74665),d=s(67396);let u=[{id:"1",username:"john.dev",avatar:l.A,isFollowing:!1},{id:"2",username:"sarah.code",avatar:l.A,isFollowing:!1},{id:"3",username:"mike.tech",avatar:l.A,isFollowing:!1},{id:"4",username:"emma.js",avatar:l.A,isFollowing:!1}],m=()=>{let{getPosts:e}=(0,c.d)(),[t,s]=(0,a.useState)([]),[m,h]=(0,a.useState)(!0),[p,g]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{let t=await e();s(t)}catch(e){g("Failed to fetch posts"),console.log(e)}finally{h(!1)}})()},[e]),console.log(t);let f=e=>e&&""!==e.trim()?e:l.A;return m?(0,r.jsx)("div",{children:"Loading..."}):p?(0,r.jsx)("div",{className:"text-red-500",children:p}):0===t.length?(0,r.jsx)("div",{className:" mt-[10rem] ",children:"Nothing here"}):(0,r.jsx)("div",{className:"justify flex-1 space-y-4 pt-[5rem] lg:px-6 sm:ml-56",children:(0,r.jsxs)("div",{className:"max-w-[1500px] mx-auto flex gap-[3rem]",children:[(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("div",{className:"flex mx-auto flex-col md:px-[6rem]  xl:px-[10rem] ",children:t.map(e=>{var t;return(0,r.jsxs)("div",{className:"p-4 space-y-3 border-b md:border-t   md:border-r md:border-l   ",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.default,{href:"/home/socials/posts/".concat(e.authorId),className:"h-[3rem] w-[3rem] rounded-full overflow-hidden relative bg-gray-200",children:(0,r.jsx)(n.default,{src:f(e.profilePicture),alt:e.author||"user",fill:!0,className:"object-cover",sizes:"32px",priority:!0})}),(0,r.jsxs)("div",{className:"flex  flex-col",children:[(0,r.jsx)("span",{className:"font-semibold",children:e.fullName}),(0,r.jsxs)("span",{className:"text-sm hover:underline decoration-blue-600  underline-offset-4 cursor-pointer  hover:text-blue-600 ",children:["@",e.author]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2  pb-4",children:[(0,r.jsx)("p",{className:" text-xl w-[90%] ",children:e.content}),e.title&&(0,r.jsx)("span",{className:" text-blue-500  font-medium",children:"#".concat(e.title)}),(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(o.A,{className:"w-5 h-5"}),(0,r.jsxs)("span",{children:[e.likesCount," likes"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(i,{className:"w-5 h-5"}),(0,r.jsxs)("span",{children:[(null===(t=e.comments)||void 0===t?void 0:t.length)||0," comments"]})]})]})]})]},e._id)})})}),(0,r.jsxs)("div",{className:"hidden  lg:flex flex-col w-[350px] p-4 space-y-4 sticky top-20",children:[(0,r.jsx)("h3",{className:"text-gray-500 font-semibold",children:"Suggested for you"}),u.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden relative",children:(0,r.jsx)(n.default,{src:e.avatar,alt:e.username,fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"font-medium text-sm",children:e.username}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"Suggested for you"})]})]}),(0,r.jsx)("button",{className:"text-blue-500 text-sm font-semibold hover:text-blue-700",children:"Follow"})]},e.id))]})]})})}},74665:(e,t,s)=>{"use strict";s.d(t,{d:()=>n});var r=s(99827),a=s(89208),o=s(42649),i=s(30227);let n=(0,r.v)(e=>({posts:[],isFetchingPosts:!1,getPosts:async()=>{e({isFetchingPosts:!0});try{let t=a.A.get("token"),s=await o.A.get("/api/socials/post/get-posts",{headers:{Authorization:"Bearer ".concat(t)}}),r=s.data.posts||[];return e({posts:r,isFetchingPosts:!1}),i.X.toastS(s.data.message),r}catch(s){var t;throw e({posts:[],isFetchingPosts:!1}),i.X.toastE(null===(t=s.response)||void 0===t?void 0:t.data.message),s}},post:async()=>{},getPersonalPost:async()=>{e({isFetchingPosts:!0});try{let t=a.A.get("token"),s=await o.A.get("/api/socials/post/get-personal-posts",{headers:{Authorization:"Bearer ".concat(t)}}),r=s.data.posts||[];return e({posts:r,isFetchingPosts:!1}),i.X.toastS(s.data.message),r}catch(s){var t;throw e({posts:[],isFetchingPosts:!1}),i.X.toastE(null===(t=s.response)||void 0===t?void 0:t.data.message),s}}}))},42649:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(82651),a=s(2818);let o=r.A.create({baseURL:a.env.NEXT_PUBLIC_PORT})},16770:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r={src:"/_next/static/media/avatar.f1939fd0.png",height:1280,width:1280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAFVBMVEXl5+jV2NmrsbTf4ePFysy2u763vL9bM5zNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAK0lEQVR4nE3GsREAIAzDwES22X9kjkCBGn3VV/c7XBk8UKK5Ex8tgKVST9oJQgBgl+LQ4QAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}},43463:(e,t,s)=>{"use strict";function r(){for(var e,t,s=0,r="",a=arguments.length;s<a;s++)(e=arguments[s])&&(t=function e(t){var s,r,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t){if(Array.isArray(t)){var o=t.length;for(s=0;s<o;s++)t[s]&&(r=e(t[s]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r)}return a}(e))&&(r&&(r+=" "),r+=t);return r}s.d(t,{$:()=>r,A:()=>a});let a=r},89208:(e,t,s)=>{"use strict";function r(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)e[r]=s[r]}return e}s.d(t,{A:()=>a});var a=function e(t,s){function a(e,a,o){if("undefined"!=typeof document){"number"==typeof(o=r({},s,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var n in o)o[n]&&(i+="; "+n,!0!==o[n]&&(i+="="+o[n].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+i}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var s=document.cookie?document.cookie.split("; "):[],r={},a=0;a<s.length;a++){var o=s[a].split("="),i=o.slice(1).join("=");try{var n=decodeURIComponent(o[0]);if(r[n]=t.read(i,n),e===n)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){a(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})},99827:(e,t,s)=>{"use strict";s.d(t,{v:()=>l});var r=s(12115);let a=e=>{let t;let s=new Set,r=(e,r)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},t,a),s.forEach(s=>s(t,e))}},a=()=>t,o={setState:r,getState:a,getInitialState:()=>i,subscribe:e=>(s.add(e),()=>s.delete(e))},i=t=e(r,a,o);return o},o=e=>e?a(e):a,i=e=>e,n=e=>{let t=o(e),s=e=>(function(e,t=i){let s=r.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return r.useDebugValue(s),s})(t,e);return Object.assign(s,t),s},l=e=>e?n(e):n}},e=>{var t=t=>e(e.s=t);e.O(0,[46,651,565,396,441,517,358],()=>t(40204)),_N_E=e.O()}]);