"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[978],{73312:(e,t,s)=>{s.d(t,{$:()=>i});var o=s(95155),a=s(12115),r=s(14707),n=s(21567);let i=a.forwardRef((e,t)=>{let{className:s,variant:a="default",size:i="default",isLoading:d,asChild:l=!1,children:u,...g}=e,c=l?r.DX:"button";return(0,o.jsxs)(c,{className:(0,n.cn)("inline-flex items-center justify-center rounded-full font-semibold transition-all","","disabled:opacity-50 disabled:pointer-events-none",{"h-9 px-4 text-sm":"default"===i,"h-8 px-3 text-xs":"sm"===i,"h-11 px-8 text-base":"lg"===i},{"bg-brand-primary text-brand-white hover:bg-brand-primary/90 dark:bg-brand-primary dark:hover:bg-brand-primary/90":"default"===a,"border-[1px] border-brand-primary text-brand-primary hover:bg-brand-primary/10 dark:border-brand-primary dark:text-brand-primary dark:hover:bg-brand-primary/20":"outline"===a,"text-brand-black hover:bg-brand-gray-light dark:text-brand-white dark:hover:bg-brand-dark":"ghost"===a},s),ref:t,disabled:d,...g,children:[d?(0,o.jsx)("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}):null,u]})});i.displayName="Button"},4622:(e,t,s)=>{s.d(t,{W:()=>o,X:()=>a});let o=(0,s(99827).v)((e,t)=>({toasts:[],addToast:function(s,o){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3,r=Math.random().toString(36).substr(2,9),n={id:r,type:s,message:o,duration:a,isVisible:!0};e(e=>({toasts:[...e.toasts,n]})),setTimeout(()=>{t().removeToast(r)},a)},removeToast:t=>{e(e=>({toasts:e.toasts.filter(e=>e.id!==t)}))},clearToasts:()=>{e({toasts:[]})}})),a={toastS:(e,t)=>{o.getState().addToast("success",e,t)},toastE:(e,t)=>{o.getState().addToast("error",e,t)},toastW:(e,t)=>{o.getState().addToast("warning",e,t)},toastI:(e,t)=>{o.getState().addToast("info",e,t)},toastCustom:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",s=arguments.length>2?arguments[2]:void 0;o.getState().addToast(t,e,s)},toastImportant:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";o.getState().addToast(t,e,8e3)},toastPersistent:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";o.getState().addToast(t,e,0)}}},21567:(e,t,s)=>{s.d(t,{cn:()=>r});var o=s(43463),a=s(69795);function r(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.QP)((0,o.$)(t))}},42649:(e,t,s)=>{s.d(t,{A:()=>o});let o=s(82651).A.create({baseURL:"http://localhost:4040"})},73558:(e,t,s)=>{s.d(t,{d:()=>d});var o=s(99827),a=s(42649),r=s(4622);function n(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)e[o]=s[o]}return e}var i=function e(t,s){function o(e,o,a){if("undefined"!=typeof document){"number"==typeof(a=n({},s,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var i in a)a[i]&&(r+="; "+i,!0!==a[i]&&(r+="="+a[i].split(";")[0]));return document.cookie=e+"="+t.write(o,e)+r}}return Object.create({set:o,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var s=document.cookie?document.cookie.split("; "):[],o={},a=0;a<s.length;a++){var r=s[a].split("="),n=r.slice(1).join("=");try{var i=decodeURIComponent(r[0]);if(o[i]=t.read(n,i),e===i)break}catch(e){}}return e?o[e]:o}},remove:function(e,t){o(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(s)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});let d=(0,o.v)()((e,t)=>({isCheckingAuth:!0,authUser:null,isLoggingIn:!1,isSigningUp:!1,isVerifyingEmail:!1,isResendingCode:!1,signUpErrors:{},loginErrors:{},isResettingPassword:!1,useAuth:async()=>{try{let t=i.get("token"),s=await a.A.get("/api/auth/check-auth",{headers:{Authorization:"Bearer ".concat(t)}});e({authUser:s.data.user,isCheckingAuth:!1})}catch(t){console.log(t),e({authUser:null,isCheckingAuth:!1})}},validateLoginForm:t=>{let s={},o=!0;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(s.email="Please enter a valid email address",o=!1),(!t.password||t.password.length<8)&&(s.password="Password must be at least 8 characters",o=!1),e({loginErrors:s}),o},validateSignUpForm:t=>{let s={},o=!0;return t.first_name.trim()||(s.first_name="First name is required",o=!1),t.last_name.trim()||(s.last_name="Last name is required",o=!1),t.phone.trim()||(s.phone="Phone number is required",o=!1),t.country.trim()||(s.country="Country is required",o=!1),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(s.email="Please enter a valid email address",o=!1),t.password.length<8?(s.password="Password must be at least 8 characters",o=!1):/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/.test(t.password)||(s.password="Password must contain at least one uppercase letter, one lowercase letter, one number and one special character",o=!1),t.agree_terms||(r.X.toastE("You must agree to the Terms & Privacy"),o=!1),e({signUpErrors:s}),o},useLogin:async s=>{var o,n,d,l,u,g;try{if(!t().validateLoginForm(s))return!1;e({isLoggingIn:!0}),console.log("Sending login payload to API:",s);let u=await a.A.post("/api/gta/v1/auth/sign-in",s),g=u.data;if("string"==typeof u.data)try{g=JSON.parse(u.data),console.log("Parsed login response data:",g)}catch(e){console.log("Failed to parse login response.data as JSON:",e)}let c=(null==g?void 0:g.token)||(null==g?void 0:null===(o=g.data)||void 0===o?void 0:o.token)||(null==g?void 0:g.access_token)||(null==g?void 0:g.accessToken)||(null==g?void 0:null===(n=g.auth)||void 0===n?void 0:n.token)||(null==g?void 0:null===(d=g.user)||void 0===d?void 0:d.token);if(c)return e({authUser:(null==g?void 0:g.user)||(null==g?void 0:null===(l=g.data)||void 0===l?void 0:l.user),isLoggingIn:!1}),i.set("token",c),r.X.toastS((null==g?void 0:g.message)||"Login successful!"),!0;return console.log("No token found in login response. Available keys:",Object.keys(g||{})),r.X.toastE("Login failed: No token received"),e({isLoggingIn:!1}),!1}catch(t){return console.log("Login error:",t),console.log("Error response:",t.response),console.log("Error message:",t.message),t.response&&(console.log("Error response data:",t.response.data),console.log("Error response status:",t.response.status),console.log("Error response headers:",t.response.headers)),r.X.toastE((null===(g=t.response)||void 0===g?void 0:null===(u=g.data)||void 0===u?void 0:u.message)||t.message||"Login failed"),e({isLoggingIn:!1}),!1}},useSignUp:async s=>{var o,n,d,l,u;try{if(!t().validateSignUpForm(s))return!1;e({isSigningUp:!0}),console.log("Sending payload to API:",s);let l=await a.A.post("/api/gta/v1/auth/sign-up",s),u=l.data;if("string"==typeof l.data)try{u=JSON.parse(l.data),console.log("Parsed response data:",u)}catch(e){console.log("Failed to parse response.data as JSON:",e)}let g=(null==u?void 0:u.token)||(null==u?void 0:null===(o=u.data)||void 0===o?void 0:o.token)||(null==u?void 0:u.access_token)||(null==u?void 0:u.accessToken)||(null==u?void 0:null===(n=u.auth)||void 0===n?void 0:n.token)||(null==u?void 0:null===(d=u.user)||void 0===d?void 0:d.token);if(g)return i.set("token",g),r.X.toastS((null==u?void 0:u.message)||"Account created successfully!"),e({isSigningUp:!1}),!0;return console.log("No token found in response. Available keys:",Object.keys(u||{})),r.X.toastE("Signup failed: No token received"),e({isSigningUp:!1}),!1}catch(t){return console.log("Signup error:",t),console.log("Error response:",t.response),console.log("Error message:",t.message),t.response&&(console.log("Error response data:",t.response.data),console.log("Error response status:",t.response.status),console.log("Error response headers:",t.response.headers)),r.X.toastE((null===(u=t.response)||void 0===u?void 0:null===(l=u.data)||void 0===l?void 0:l.message)||t.message||"Signup failed"),e({isSigningUp:!1}),!1}},useVerifyEmail:async t=>{try{if(!t||6!==t.length)return r.X.toastE("Please enter a valid 6-digit verification code"),!1;e({isVerifyingEmail:!0});let s=i.get("token"),o=await a.A.post("/api/gta/v1/auth/confirm-email",{verificationCode:t},{headers:{Authorization:"Bearer ".concat(s)}});if(o.data)return r.X.toastS(o.data.message||"Email verified successfully!"),e({isVerifyingEmail:!1}),!0;return r.X.toastE("Email verification failed"),e({isVerifyingEmail:!1}),!1}catch(t){var s,o;return console.log("Email verification error:",t),r.X.toastE((null===(o=t.response)||void 0===o?void 0:null===(s=o.data)||void 0===s?void 0:s.message)||t.message||"Email verification failed"),e({isVerifyingEmail:!1}),!1}},useResendVerification:async()=>{try{e({isResendingCode:!0});let t=i.get("token"),s=await a.A.get("/api/gta/v1/auth/regenerate-email-code",{headers:{Authorization:"Bearer ".concat(t)}});if(s.data)return r.X.toastS(s.data.message||"Verification code sent successfully!"),e({isResendingCode:!1}),!0;return r.X.toastE("Failed to resend verification code"),e({isResendingCode:!1}),!1}catch(o){var t,s;return console.log("Resend verification error:",o),r.X.toastE((null===(s=o.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||o.message||"Failed to resend verification code"),e({isResendingCode:!1}),!1}},useResetPassword:async(t,s,o)=>{try{if(!t||!s||!o)return r.X.toastE("All fields are required"),!1;if(s!==o)return r.X.toastE("Passwords do not match"),!1;e({isResettingPassword:!0});let n=i.get("token"),d=await a.A.post("/api/gta/v1/auth/reset-password",{otp:t,new_password:s},{headers:{Authorization:"Bearer ".concat(n)}});if(d.data)return r.X.toastS(d.data.message||"Password reset successfully!"),e({isResettingPassword:!1}),!0;return r.X.toastE("Password reset failed"),e({isResettingPassword:!1}),!1}catch(t){var n,d;return console.log("Password reset error:",t),r.X.toastE((null===(d=t.response)||void 0===d?void 0:null===(n=d.data)||void 0===n?void 0:n.message)||t.message||"Password reset failed"),e({isResettingPassword:!1}),!1}},useLogout:async()=>{try{i.remove("token"),e({authUser:null}),r.X.toastS("Logged out successfully")}catch(e){var t,s;r.X.toastE((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Logout failed")}},clearErrors:()=>{e({signUpErrors:{},loginErrors:{}})}}))},30864:(e,t,s)=>{s.d(t,{A:()=>o});let o={src:"/_next/static/media/logo.15cbe819.jpg",height:487,width:513,blurDataURL:"data:image/jpeg;base64,/9j/2wBDAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/2wBDAQoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/v/wgARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAf/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAAlgX/xAAbEAACAwADAAAAAAAAAAAAAAABAgMEEQASQf/aAAgBAQABPwBLUS12jKjDp6+aRnP/xAAXEQEAAwAAAAAAAAAAAAAAAAABABEh/9oACAECAQE/ADCp/8QAGREAAgMBAAAAAAAAAAAAAAAAAhIAARFC/9oACAEDAQE/ADt13kVn/9k=",blurWidth:8,blurHeight:8}}}]);